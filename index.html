<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-CA" xml:lang="en-CA">
  <head>
    <meta charset="UTF-8" />
    <title>Going back to the classic editor</title>

    <style type="text/css">
    </style>

    <script type="text/javascript"><!--//--><![CDATA[
      function generateLinks(domain)
        {
        // if no domain given, take from input field
        if(!domain)
          {
          domain=document.getElementById("domain").value;
          }//end if

        var baseUrl="http://"+domain+"/wp-admin/";

        // New Post
        document.getElementById("bookmark-new-post").href=baseUrl+"post-new.php";
        document.getElementById("bookmark-new-post").innerHTML="New Post on "+domain;

        // All Posts
        document.getElementById("bookmark-all-posts").href=baseUrl+"edit.php";
        document.getElementById("bookmark-all-posts").innerHTML="All Posts on "+domain;

        // Dashboard
        document.getElementById("bookmark-dashboard").href=baseUrl;
        document.getElementById("bookmark-dashboard").innerHTML="Dashboard for "+domain;
        }//end generateLinks


        // based on code by kdenney: http://stackoverflow.com/a/155265
        function onEnterPress(e,callback)
          {
          // look for window.event in case event isn't passed in
          e = e || window.event;
          if (e.keyCode == 13 && callback)
            {
            callback();
            }//end if
          }// end onEnterPress
    //]]></script>
  </head>

  <body>
    <article>
      <h1 id="title">Going back to the classic editor</h1>

      <p>The staff at <a href="https://wordpress.com/">WordPress.com</a> have been working towards a <a href="https://en.blog.wordpress.com/2014/12/16/dashboard-update/">unified dashboard</a> to manage all your blogs in one place on any device. However, many users feel that it falls short of the classic dashboards, me included.</p>
      <p>I'm sure most people would be fine with this as long as we are given a choice of interface, and that that choice remains consistent through our experience. However, on <time datetime="2015-03-13">March 13, 2015</time>, the preference setting for the choice of editor, which was implemented by a cookie through a link back to the classic editor, was removed. Cue the uproar of the mass of angry and frustrated users when their cookies expire. <a href="https://en.forums.wordpress.com/topic/please-reinstate-the-option-of-choice-to-use-the-old-publishing-format">Pages of complaints</a> have been posted in the forums in response to the editor essentially being forced on us.</p>
      <p>To further the madness, a new version of the editor with even more missing features <a href="https://en.blog.wordpress.com/2015/11/16/new-high-speed-editor/">was released</a> on <time datetile="2015-11-16">November 16, 2015</time>, replacing the previous one with no option to go back. <a href="https://en.forums.wordpress.com/topic/editor-feedback">Cue another uproar.</a> Thankfully, the classic editor is still around as an official alternative.</p>
      <p>If you like the new editor, then by all means use it because it's all about choice. But if you're displeased with the new editor and would like to continue using the classic editor, you'll be glad to know that there are a few workarounds. As much as these workarounds should be unnecessary as it would be a trivial fix on WordPress.com's end, unless and until they take agreeable action, these workarounds are all we have. They are listed here in order of overall ease of installation and use.</p>

      <hr />
      <nav>
        <ul>
          <li><a href="#userscript">User Script</a></li>
          <li><a href="#bookmarklet">Bookmarklet</a></li>
          <li><a href="#bookmarks">Per-site bookmarks</a>
            <ul><li><a href="#bookmark-tool">Bookmark tool</a></li></ul>
          </li>
          <li><a href="#wporg">WordPress.org</a></li>
          <li><a href="#offline-editing">Offline editing</a></ul>
        </ul>
      </nav>
      <hr />

      <!-- Userscript -->
      <section id="userscript">
        <h1>Automatic redirect: using a user script</h1>
        <p>I argue that this is the easiest because the only hard part is the initial installation. After that, everything redirects automatically without your input and you can almost forget you're using a script.</p>
        <p>This method works best for Mozilla Firefox, Google Chrome, Opera, and their derivatives. <strong>If you are using Internet Explorer, it may be easier to use the <a href="#bookmarklet">bookmarklet method</a> instead.</strong> If you don't know what browser you're using, you can go to <a href="https://www.whatismybrowser.com/">whatismybrowser.com</a> to find out.</p>
        <p>Follow these steps to install the script:</p>
        <ol>
          <li><p>Install an add-on for your browser to run user scripts:</p>
            <dl>
              <dt>Firefox and derivatives</dt>
              <dd><a href="https://addons.mozilla.org/firefox/addon/greasemonkey/">Greasemonkey</a> or <a href="https://addons.mozilla.org/en-US/firefox/addon/scriptish/">Scriptish</a></dd>
              <dt>Chrome and derivatives</dt>
              <dd><a href="">Tampermonkey</a></dd>
              <dt>Opera</dt>
              <dd><a href="https://addons.opera.com/en/extensions/details/tampermonkey-beta/">Tampermonkey</a>, <a href="https://addons.opera.com/en/extensions/details/violent-monkey/">Violentmonkey</a></dd>
              <dt>Safari</dt>
              <dd><a href="https://tampermonkey.net/?browser=safari">Tampermonkey</a>, <a href="http://ss-o.net/safari/extension/NinjaKit.safariextz">NinjaKit</a></dd>
              <dt>Internet Explorer</dt>
              <dd><a href="http://sourceforge.net/projects/trixiewpf45/">TrixIE</a></dd>
            </dl>
          </li>
          <li>
            <p>Install the script by clicking the Install link below:</p>
            <p><strong>[<a href="https://github.com/tpenguinltg/wpcom-edit-post-redirect.user.js/raw/master/wpcom-edit-post-redirect.user.js">Install</a>]</strong></p>
          </li>
        </ol>
        <p>Any time you visit a link to the new editor, you will be redirected to the classic one. Note that because of the way the script works, you may see the new editor briefly, and it will load completely before redirecting for private and Jetpack-enabled blogs.</p>
        <p>View the source on <a href="https://github.com/tpenguinltg/wpcom-edit-post-redirect.user.js">GitHub</a>. Also on <a href="https://greasyfork.org/en/scripts/8581-wordpress-com-edit-post-redirects">Greasy Fork</a>.</p>
      </section>

      <!-- Bookmarklet -->
      <section id="bookmarklet">
        <h1>Manual redirect: using a bookmarklet</h1>
        <p><strong>Last updated 2015-11-21</strong></p>
        <p>This method is the easiest to set up and is very simple to use, but it is not guaranteed to work with Jetpack-enabled sites. Use this if you can't use the script above or if you want to have a choice between the new and classic editors.</p>
        <p>Drag the link below into your bookmarks:</p>
        <p><strong><a href="javascript:(function(){var p=location.pathname.match(/(post|page)(?:\/([^\/]+)(?:\/(\d+|new)?)?)?/);var b=document.querySelector('.post-editor__sidebar a.site__content').href;location.replace((!p[3]||p[3]=='new')?(b+'wp-admin/post-new.php?post_type='+p[1]):(b+'wp-admin/post.php?post='+p[3]+'&amp;action=edit'))})()">Edit in classic editor</a></strong></p>
        <p>Or, if you can't drag, create a new bookmark with the following URI:</p>
        <p><code>javascript:(function(){var p=location.pathname.match(/(post|page)(?:\/([^\/]+)(?:\/(\d+|new)?)?)?/);var b=document.querySelector('.post-editor__sidebar a.site__content').href;location.replace((!p[3]||p[3]=='new')?(b+'wp-admin/post-new.php?post_type='+p[1]):(b+'wp-admin/post.php?post='+p[3]+'&amp;action=edit'))})()</code></p>
        <p>When you're on the new editor, click on the bookmark you made to edit your post in the classic editor. Note that any unsaved changes you made to the post will be lost after clicking the bookmark.</p>
      </section>

      <!-- Manual per-site bookmarks -->
      <section id="manual-bookmarks">
        <h1>Explicit request: using bookmarks for each site</h1>
        <p>This is the only solution endorsed by WordPress.com support staff. However, this method is painstakingly tedious and time-consuming; I recommend using one of the methods above if you can.</p>
        <p>For every blog, you will want to bookmark these links, changing "example.wordpress.com" to your own blog:</p>
        <dl>
          <dt>New Post</dt>
          <dd><strong>http://<var>example.wordpress.com</var>/wp-admin/post-new.php</strong></dd>
          <dt>All Posts</dt>
          <dd><strong>http://<var>example.wordpress.com</var>/wp-admin/edit.php</strong></dd>
          <dt>Dashboard</dt>
          <dd><strong>http://<var>example.wordpress.com</var>/wp-admin/</strong></dd>
        </dl>
        <p>Use the "New Post" bookmark to make a new post for that blog, and use "All Posts" to edit an existing post (you will have to search for the post). Edit links on your site will still point to the new editor and will not be redirected to the classic editor. "Dashboard" will take you to your site's classic dashboard, where you can access anything that has to do with your site.</p>
        <div id="bookmark-tool">
        <p>To make it easy, you can enter your blog's domain (e.g. <var>example.wordpress.com</var>, <var>example.com</var>, etc.) below to generate these links for you for easy bookmarking. This tool is not guaranteed to work with Jetpack-enabled blogs.</p>
          <label>Domain: <input type="text" id="domain" value="example.wordpress.com" onkeypress="onEnterPress(event,generateLinks)" /></label>
          <button id="bookmark-gen-btn" onclick="generateLinks()">Generate Links</button>
          <ul id="bookmark-output">
            <li><a id="bookmark-new-post" href="http://example.wordpress.com/wp-admin/post-new.php">New Post on example.wordpress.com</a></li>
            <li><a id="bookmark-all-posts" href="http://example.wordpress.com/wp-admin/edit.php">All Posts on example.wordpress.com</a></li>
            <li><a id="bookmark-dashboard" href="http://example.wordpress.com/wp-admin/">Dashboard for example.wordpress.com</a></li>
          </ul>
        </div>
      </section>

      <!-- WordPress.org installation -->
      <section id="wporg">
        <h1>External editing: using WordPress.org</h1>
        <p>This method is a lot more trouble than it's worth. The idea is to set up a <a href="https://wordpress.org/">WordPress.org</a> installation somewhere, write (and possibly publish) your posts there, and manually copy your post's content to WordPress.com.</p>
        <p>If you're doing this, you may as well just move to your WordPress.org installation and not use WordPress.com.</p>
      </section>

      <!-- Offline editing -->
      <section id="offline-editing">
        <h1>Avoiding both: offline editing</h1>
        <p>This is last because it isn't actually a method to get to the classic editor, but it's still a way to avoid using the new one. By <a href="https://en.support.wordpress.com/post-by-email/">posting by email</a> or <a href="https://en.support.wordpress.com/xml-rpc/">editing using an offline editor</a>, you can use an editor that could potentially cater to your needs better than the two online editors.</p>
      </section>

      <hr />
      <!-- Copyright -->
      <footer>
        <p id="copyright"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />
          &copy;2015, <a href="http://tpenguinltg.wordpress.com/">tPenguinLTG</a>. This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
        <p>Edit this document on <a href="https://github.com/tpenguinltg/wpcom-edit-post-redirect.user.js/tree/gh-pages">GitHub</a>.</p>
      </footer>
    </article>

    <script type="text/javascript"><!--//--><![CDATA[
      // Function by jolly.exe
      // Returns value of specified GET query
      // From http://stackoverflow.com/a/901144
      function getParameterByName(name) {
        name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
        results = regex.exec(location.search);
        return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
      }//end getParameterByName

      // if domain is specified as a GET query, update bookmark tool
      (function(){
        var domain=getParameterByName("domain");
        if(domain)
          {
          document.getElementById("domain").value=domain;
          generateLinks(domain);
          }//end if
      })();
    //]]></script>
  </body>
</html>
